<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-book/chapter6/06-06-rls">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">6.6 | Row Level Security (RLS) implementation | A Data &amp; Analytics Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.github.com/6.6"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="6.6 | Row Level Security (RLS) implementation | A Data &amp; Analytics Wiki"><meta data-rh="true" name="description" content="6.6.1 | Introduction"><meta data-rh="true" property="og:description" content="6.6.1 | Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.github.com/6.6"><link data-rh="true" rel="alternate" href="https://www.github.com/6.6" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.github.com/6.6" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="A Data &amp; Analytics Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="A Data &amp; Analytics Wiki Atom Feed"><link rel="stylesheet" href="/assets/css/styles.0e575c3e.css">
<link rel="preload" href="/assets/js/runtime~main.64481d61.js" as="script">
<link rel="preload" href="/assets/js/main.90fc6529.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">A Data &amp; Analytics Wiki</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Home</a><a class="navbar__item navbar__link" href="/tags">Search by Tags</a><a class="navbar__item navbar__link" href="/category/business-intelligence--analytics-with-microsoft-power-bi-full-book">BI &amp; Analytics with Power BI [Full Book]</a><a class="navbar__item navbar__link" href="/category/articles">Articles</a><a class="navbar__item navbar__link" href="/category/wiki">Wiki</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/blog">Blog</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog">Overview</a></li><li><a class="dropdown__link" href="/blog/tags">All Tags</a></li><li><a class="dropdown__link" href="/blog/tags/project-management">1 | Project Management</a></li><li><a class="dropdown__link" href="/blog/tags/solution-design">2 | Solution Design</a></li><li><a class="dropdown__link" href="/blog/tags/data-transformation">3 | Data Transformation (ETL)</a></li><li><a class="dropdown__link" href="/blog/tags/data-model">4 | Data Model</a></li><li><a class="dropdown__link" href="/blog/tags/data-visualization-reporting">5 | Data Visualization &amp; Reporting</a></li><li><a class="dropdown__link" href="/blog/tags/publishing-sharing">6 | Publishing &amp; Sharing</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://www.linkedin.com/in/jon-cajacob/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.datavision.ch" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">DataVision AG<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome &amp; About this Wiki</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/category/business-intelligence--analytics-with-microsoft-power-bi-full-book">Business Intelligence &amp; Analytics with Microsoft Power BI [Full Book]</a><button aria-label="Toggle the collapsible sidebar category &#x27;Business Intelligence &amp; Analytics with Microsoft Power BI [Full Book]&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/1--introduction">1 | Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;1 | Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/2--overview">2 | Overview</a><button aria-label="Toggle the collapsible sidebar category &#x27;2 | Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/3--preparing-the-data">3 | Preparing the data</a><button aria-label="Toggle the collapsible sidebar category &#x27;3 | Preparing the data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/4--building-the-data-model">4 | Building the data model</a><button aria-label="Toggle the collapsible sidebar category &#x27;4 | Building the data model&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/5--creating-the-measures-visualizations-and-dashboards">5 | Creating the measures, visualizations and dashboards</a><button aria-label="Toggle the collapsible sidebar category &#x27;5 | Creating the measures, visualizations and dashboards&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/category/6--publishing-and-sharing-datasets-and-reports-power-bi-service">6 | Publishing and sharing datasets and reports (Power BI Service)</a><button aria-label="Toggle the collapsible sidebar category &#x27;6 | Publishing and sharing datasets and reports (Power BI Service)&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.1">6.1 | Chapter overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.8">6.8 | Composite models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.8">6.8 | Workspace architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.10">6.10 | Power BI Premium features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.2">6.2 | Power BI Online platform - An overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.3">6.3 | Automated data refresh setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.4">6.4 | Working with reports to explore and analyze data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.5">6.5 | Data security - How access permissions are implemented</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/6.6">6.6 | Row Level Security (RLS) implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.7">6.7 | Dataflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.8">6.8 | Scaling Power BI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/6.9">6.9 | Other important tools of the Power BI Service</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/7--guest-chapter-implementing-power-bi-for-the-financial-controlling-department">7 | [Guest Chapter: Implementing Power BI for the Financial Controlling department]</a><button aria-label="Toggle the collapsible sidebar category &#x27;7 | [Guest Chapter: Implementing Power BI for the Financial Controlling department]&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/8--collection-of-topics">8 | Collection of topics</a><button aria-label="Toggle the collapsible sidebar category &#x27;8 | Collection of topics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/category/9--appendix">9 | Appendix</a><button aria-label="Toggle the collapsible sidebar category &#x27;9 | Appendix&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/articles">Articles</a><button aria-label="Toggle the collapsible sidebar category &#x27;Articles&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/wiki">Wiki</a><button aria-label="Toggle the collapsible sidebar category &#x27;Wiki&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/business-intelligence--analytics-with-microsoft-power-bi-full-book"><span itemprop="name">Business Intelligence &amp; Analytics with Microsoft Power BI [Full Book]</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/6--publishing-and-sharing-datasets-and-reports-power-bi-service"><span itemprop="name">6 | Publishing and sharing datasets and reports (Power BI Service)</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">6.6 | Row Level Security (RLS) implementation</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>6.6 | Row Level Security (RLS) implementation</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="661--introduction">6.6.1 | Introduction<a href="#661--introduction" class="hash-link" aria-label="Direct link to 6.6.1 | Introduction" title="Direct link to 6.6.1 | Introduction">​</a></h2><p>With a Row Level Security (RLS) mechanism we want to define which user can see which rows in our data model. Essentially, we are evaluation who is currently looking at a report and based on that we limit the rows that are returned an visualized on the report canvas. Please note the difference to previously discussed access permissions and roles on Workspaces, Semantic Models and Reports where we define who can see which object in the Power BI Service.</p><p>Usually, RLS is defined based on some <strong>organizational dimension</strong>, like for example business unit, legal entity, profit or cost center or based on a regional structure. As a prerequisite, the relevant organizational dimension of course has to be part of the data model.</p><p>Understanding how the implementation of RLS in Power BI specifically works is best achieved with looking at an example.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="662--example">6.6.2 | Example<a href="#662--example" class="hash-link" aria-label="Direct link to 6.6.2 | Example" title="Direct link to 6.6.2 | Example">​</a></h2><p>Let&#x27;s assume a very simple data model which has a dimension table <em>dimProfitCenter</em> that filters sales data <em>factSales</em>. Who can see which profit center is defined in a column AccessPermissions, please refer to the following screenshot to see how the example data model looks like:</p><p><img loading="lazy" alt="03-154" src="/assets/images/img_book_03-154-f4a7a24db5f3bf55d02ad129b26d0f7a.png" width="1315" height="820" class="img_ev3q"></p><p>To define and activate RLS in this model, we do the following:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-in-the-report-builder-via-modeling--security--manage-roles-open-the-rls-role-manager">1. In the Report Builder, via <em>Modeling</em> → <em>Security</em> → <em>Manage roles</em>, open the RLS role manager<a href="#1-in-the-report-builder-via-modeling--security--manage-roles-open-the-rls-role-manager" class="hash-link" aria-label="Direct link to 1-in-the-report-builder-via-modeling--security--manage-roles-open-the-rls-role-manager" title="Direct link to 1-in-the-report-builder-via-modeling--security--manage-roles-open-the-rls-role-manager">​</a></h4><p><img loading="lazy" alt="03-155" src="/assets/images/img_book_03-155-51a76c5a0237760f79ffa382e1a2b1a8.png" width="1321" height="329" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-create-a-new-rls-role-with-a-bit-of-dax">2. Create a new RLS role with a bit of DAX<a href="#2-create-a-new-rls-role-with-a-bit-of-dax" class="hash-link" aria-label="Direct link to 2. Create a new RLS role with a bit of DAX" title="Direct link to 2. Create a new RLS role with a bit of DAX">​</a></h4><p>Well name the new role <em>RLS_ProfitCenter</em> and then navigate to the table <em>dimProfitCenter</em> and enter the following small DAX code snippet (note, you may have to switch to the DAX editor with the button top right):</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">RLS rule</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">CONTAINSSTRING</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token maybe-class-name">AccessPermissions</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">USERPRINCIPALNAME</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then we confirm with <em>Save</em>.</p><p><img loading="lazy" alt="03-156" src="/assets/images/img_book_03-156-c72fc4f5d87697e6efa60378442021cc.png" width="1307" height="604" class="img_ev3q"></p><p>The DAX code we used evaluates the column <em>AccessPermissions</em> if it can find the e-mail address of the user currently looking at the report. The function USERPRINCIPALNAME() returns that e-mail address. If the code finds the e-mail address, it returns <em>True</em>. For all rows where this condition is <em>True</em>, data is returned. And because <em>dimProfitCenter</em> filters <em>factSales</em>, this is also true for <em>factSales</em>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-testing-the-newly-created-rls-role">3. Testing the newly created RLS role<a href="#3-testing-the-newly-created-rls-role" class="hash-link" aria-label="Direct link to 3. Testing the newly created RLS role" title="Direct link to 3. Testing the newly created RLS role">​</a></h4><p>Testing and making sure our RLS mechanism works as intended is important so Power BI has a functionality to exactly do that.</p><p>Via <em>Modeling</em> → <em>Security</em> → <em>View</em> as we can look at the report from a specific role&#x27;s (and user&#x27;s) perspective.</p><p><img loading="lazy" alt="03-157" src="/assets/images/img_book_03-157-b851e792315261972fbc795d65e22bc1.png" width="1322" height="881" class="img_ev3q"></p><p>After confirming, the report is filtered according to the rules of the RLS role:</p><p><img loading="lazy" alt="03-158" src="/assets/images/img_book_03-158-3a3048babfd7fd979180d27fbdca0903.png" width="1327" height="558" class="img_ev3q"></p><p>Please note, the e-mail address seen on the canvas is based on a simple DAX Measure with the following code:</p><div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">USERPRINCIPALNAME() Measure</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">User</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">USERPRINCIPALNAME</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-adding-users-to-rls-roles-in-the-power-bi-service">4. Adding users to RLS roles in the Power BI Service<a href="#4-adding-users-to-rls-roles-in-the-power-bi-service" class="hash-link" aria-label="Direct link to 4. Adding users to RLS roles in the Power BI Service" title="Direct link to 4. Adding users to RLS roles in the Power BI Service">​</a></h4><p>After publishing our Semantic Model and Report with the RLS mechanism, we have to add users to the created RLS roles. Before that, users cannot see any data.</p><p>To do that, we navigate to the Workspace and then click on the three dots of the Semantic Model and select <em>Security</em>:</p><p><img loading="lazy" alt="03-159" src="/assets/images/img_book_03-159-a3ab9af2c4621a29b4d7302cc2f688de.png" width="1315" height="882" class="img_ev3q"></p><p>In the window, select the RLS role and add the respective users. Confirm with <em>Save</em>:</p><p><img loading="lazy" alt="03-160" src="/assets/images/img_book_03-160-50644e2bd73865ec11cc999f4ce5ea8b.png" width="1324" height="790" class="img_ev3q"></p><p>Please note, we can also work with Security Groups here, which are created and managed in the Microsoft Admin Center.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="bonus-a-more-simple-but-static-way-of-rls">Bonus: A more simple but static way of RLS<a href="#bonus-a-more-simple-but-static-way-of-rls" class="hash-link" aria-label="Direct link to Bonus: A more simple but static way of RLS" title="Direct link to Bonus: A more simple but static way of RLS">​</a></h4><p>To understand the RLS role manager a bit more, let&#x27;s have a look at another way of defining a RLS role. Instead of using a DAX function that dynamically evaluates a column, we can just simply fix the data scope for a specific role, see the following example:</p><p><img loading="lazy" alt="03-161" src="/assets/images/img_book_03-161-39ba4ac3f075aa69fbf65fe512c55068.png" width="1312" height="599" class="img_ev3q"></p><p>All users that are part of the role <em>RLS_Simple</em>, will only see the profit centers with ID 8 and 11.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="download-the-pbix-with-the-rls-example">Download the PBIX with the RLS example<a href="#download-the-pbix-with-the-rls-example" class="hash-link" aria-label="Direct link to Download the PBIX with the RLS example" title="Direct link to Download the PBIX with the RLS example">​</a></h4><p>The PBIX with the just introduced example can be downloaded from my repository here: <a href="https://github.com/jon-cajacob/bi-with-power-bi" target="_blank" rel="noopener noreferrer"><ins>File repository on GitHub</ins></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="663--multiple-rls-roles">6.6.3 | Multiple RLS roles<a href="#663--multiple-rls-roles" class="hash-link" aria-label="Direct link to 6.6.3 | Multiple RLS roles" title="Direct link to 6.6.3 | Multiple RLS roles">​</a></h2><p>Finally, please note that when a user is part of multiple RLS roles, the filter conditions of all roles are connected with an OR-condition. That means if for example one role permitts to see the country Switzerland and another role France, that user will see both countries in the reports.</p><p>Keep in mind that this may lead to &quot;strange&quot; totals in reports for that user. There are ways to deal with that with DAX Measures, however that exceeds the scope of this book quite a bit.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/row-level-security">Row Level Security</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/access-permissions">Access Permissions</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/security">Security</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/6.5"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">6.5 | Data security - How access permissions are implemented</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/6.7"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">6.7 | Dataflows</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#661--introduction" class="table-of-contents__link toc-highlight">6.6.1 | Introduction</a></li><li><a href="#662--example" class="table-of-contents__link toc-highlight">6.6.2 | Example</a><ul><li><a href="#1-in-the-report-builder-via-modeling--security--manage-roles-open-the-rls-role-manager" class="table-of-contents__link toc-highlight">1. In the Report Builder, via <em>Modeling</em> → <em>Security</em> → <em>Manage roles</em>, open the RLS role manager</a></li><li><a href="#2-create-a-new-rls-role-with-a-bit-of-dax" class="table-of-contents__link toc-highlight">2. Create a new RLS role with a bit of DAX</a></li><li><a href="#3-testing-the-newly-created-rls-role" class="table-of-contents__link toc-highlight">3. Testing the newly created RLS role</a></li><li><a href="#4-adding-users-to-rls-roles-in-the-power-bi-service" class="table-of-contents__link toc-highlight">4. Adding users to RLS roles in the Power BI Service</a></li><li><a href="#bonus-a-more-simple-but-static-way-of-rls" class="table-of-contents__link toc-highlight">Bonus: A more simple but static way of RLS</a></li><li><a href="#download-the-pbix-with-the-rls-example" class="table-of-contents__link toc-highlight">Download the PBIX with the RLS example</a></li></ul></li><li><a href="#663--multiple-rls-roles" class="table-of-contents__link toc-highlight">6.6.3 | Multiple RLS roles</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Wiki</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/category/business-intelligence--analytics-with-microsoft-power-bi-full-book">Business Intelligence &amp; Analytics with Microsoft Power BI [Full Book]</a></li></ul></div><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/tags/project-management">1 | Project Management</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/tags/solution-design">2 | Solution Design</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/tags/data-transformation">3 | Data Transformation</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/tags/data-model">4 | Data Model</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/tags/data-visualization-reporting">5 | Data Visualization &amp; Reporting</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/tags/publishing-sharing">6 | Publishing &amp; Sharing</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/jon-cajacob/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.datavision.ch/" target="_blank" rel="noopener noreferrer" class="footer__link-item">DataVision AG<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/imprint">Imprint</a></li><li class="footer__item"><a class="footer__link-item" href="/data-privacy">Data Privacy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 A Data & Analytics Wiki by Jon Cajacob, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.64481d61.js"></script>
<script src="/assets/js/main.90fc6529.js"></script>
</body>
</html>