"use strict";(self.webpackChunkdata_and_analytics=self.webpackChunkdata_and_analytics||[]).push([[7025],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>g});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),u=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=u(a),h=n,g=p["".concat(l,".").concat(h)]||p[h]||m[h]||i;return a?r.createElement(g,s(s({ref:t},c),{},{components:a})):r.createElement(g,s({ref:t},c))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,s=new Array(i);s[0]=h;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[p]="string"==typeof e?e:n,s[1]=o;for(var u=2;u<i;u++)s[u]=a[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},1713:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var r=a(7462),n=(a(7294),a(3905));const i={sidebar_position:999,title:"5.4 | Creating and configuring the first Measures",slug:"/5.4",tags:["tag1"]},s="5.4 | Creating and configuring the first Measures",o={unversionedId:"book/chapter5/05-04-first-measures",id:"book/chapter5/05-04-first-measures",title:"5.4 | Creating and configuring the first Measures",description:"In this chapter, we will create three basic Measures which we can use in many contexts. We will also explore, how the filter context given by slicers and page filters can be manipulated inside a Measure.",source:"@site/docs/01-book/01-chapter5/05-04-first-measures.md",sourceDirName:"01-book/01-chapter5",slug:"/5.4",permalink:"/5.4",draft:!1,tags:[{label:"tag1",permalink:"/tags/tag-1"}],version:"current",sidebarPosition:999,frontMatter:{sidebar_position:999,title:"5.4 | Creating and configuring the first Measures",slug:"/5.4",tags:["tag1"]},sidebar:"tutorialSidebar",previous:{title:"5.3 | Working with and applying filters",permalink:"/5.3"},next:{title:"5.5 | Creating the first fully functioning dashboard",permalink:"/5.5"}},l={},u=[{value:"5.4.1 | Basic Measure for sales in USD",id:"541--basic-measure-for-sales-in-usd",level:2},{value:"5.4.2 | Measure for previous year sales in USD",id:"542--measure-for-previous-year-sales-in-usd",level:2},{value:"5.4.3 | Measure for year-over-year variance in sales in USD",id:"543--measure-for-year-over-year-variance-in-sales-in-usd",level:2},{value:"5.4.4 | Chapter summary: Working with and configuring Measures",id:"544--chapter-summary-working-with-and-configuring-measures",level:2}],c={toc:u};function p(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,r.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"54--creating-and-configuring-the-first-measures"},"5.4 | Creating and configuring the first Measures"),(0,n.kt)("p",null,"In this chapter, we will create three basic Measures which we can use in many contexts. We will also explore, how the filter context given by slicers and page filters can be manipulated inside a Measure."),(0,n.kt)("h2",{id:"541--basic-measure-for-sales-in-usd"},"5.4.1 | Basic Measure for sales in USD"),(0,n.kt)("p",null,"To create a new measure, do a right-click on the table ",(0,n.kt)("em",{parentName:"p"},"_Measures")," and select ",(0,n.kt)("em",{parentName:"p"},"New measure"),". Note, each Measure has a home table where it is stored. Like described in chapter VERWEIS, it is good practice to have a separate table in the Power BI data model specifically for storing Measures."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"03-80",src:a(6311).Z,width:"1325",height:"864"})),(0,n.kt)("p",null,"In the appearing formula bar, we enter the following:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Measure name")," (label) before the equal sign. Note, each Measure has to have a unique label"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"Formula")," using the DAX language")),(0,n.kt)("p",null,"The measure we want to create is defined as following:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="New Measure: Sales in USD"',title:'"New',"Measure:":!0,Sales:!0,in:!0,'USD"':!0},"Sales in USD = SUM( factSales[Sales in USD] )\n")),(0,n.kt)("p",null,"When you start typing after the equal sign, you will notice how Power BI gives you recommendations for functions, tables and fields to be used. This is called ",(0,n.kt)("em",{parentName:"p"},"IntelliSense"),"."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"03-81",src:a(2617).Z,width:"1324",height:"570"})),(0,n.kt)("p",null,"When finishing typing the formula, confirm via the checkmark symbol. The new measure should appear under the ",(0,n.kt)("em",{parentName:"p"},"_Measure")," table:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"03-82",src:a(8886).Z,width:"1323",height:"570"})),(0,n.kt)("p",null,"Before we use the Measure for visualizations, let's make sure the ",(0,n.kt)("strong",{parentName:"p"},"number format")," is correct. When having selected the Measure in the table navigation, you can change the formatting options in the main navigation pane. Let's format the new Measure as a \"Whole Number\" with thousand's separators activated:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"03-83",src:a(3344).Z,width:"1323",height:"570"})),(0,n.kt)("p",null,"Now we can use the Measure in a visualization, just like we did it in the previous chapter:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"03-84",src:a(1986).Z,width:"1323",height:"858"})),(0,n.kt)("h2",{id:"542--measure-for-previous-year-sales-in-usd"},"5.4.2 | Measure for previous year sales in USD"),(0,n.kt)("p",null,"The next Measure follows a very commonly used pattern for time / date calculations. What we want to achieve is to manipulate the filter context inside the Measure so we always get the previous year value for sales from the perspective of a currently selected year."),(0,n.kt)("p",null,"Let's create another measure as following:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="New Measure: Sales in USD PY"',title:'"New',"Measure:":!0,Sales:!0,in:!0,USD:!0,'PY"':!0},"Sales in USD PY =\nCALCULATE ( [Sales in USD], DATEADD ( dimDate[Date], -1, YEAR ) )\n")),(0,n.kt)("p",null,"Then, create a new report page and place an empty matrix visual on the canvas. Populate the matrix with the Measures ",(0,n.kt)("em",{parentName:"p"},"[Sales in USD]")," and ",(0,n.kt)("em",{parentName:"p"},"[Sales in USD PY]")," and with ",(0,n.kt)("em",{parentName:"p"},"Year")," from ",(0,n.kt)("em",{parentName:"p"},"dimDate")," as the rows."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"03-85",src:a(882).Z,width:"1302",height:"749"})),(0,n.kt)("p",null,"Now let's take a moment to understand what is going on. The filter context, given by the rows in the matrix visual is ",(0,n.kt)("em",{parentName:"p"},"Year")," from ",(0,n.kt)("em",{parentName:"p"},"dimDate"),". The Measure ",(0,n.kt)("em",{parentName:"p"},"[Sales in USD]")," shows the sales amount for the respective year. The Measure ",(0,n.kt)("em",{parentName:"p"},"[Sales in USD PY]")," on the other hand always shows exactly the value of the previous year."),(0,n.kt)("p",null,"What is happening is, is that we are overriding the filter context by using the CALCULATE() function inside the Measure."),(0,n.kt)("h2",{id:"543--measure-for-year-over-year-variance-in-sales-in-usd"},"5.4.3 | Measure for year-over-year variance in sales in USD"),(0,n.kt)("h2",{id:"544--chapter-summary-working-with-and-configuring-measures"},"5.4.4 | Chapter summary: Working with and configuring Measures"))}p.isMDXComponent=!0},6311:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/img_book_03-80-2dba90421d66d3d422d31f8cda8b3952.png"},2617:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/img_book_03-81-e9ee25a44e0c2a8015854c617ac8836e.png"},8886:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/img_book_03-82-223153acce4bdb55781032d2db8226e5.png"},3344:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/img_book_03-83-21eec19191bcf2f12fbbaf2e2bad4e2e.png"},1986:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/img_book_03-84-fb848ad54802290b0b831e8012937c14.png"},882:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/img_book_03-85-c19041a27da174ceb88f79a352f2c25e.png"}}]);