"use strict";(self.webpackChunkdata_and_analytics=self.webpackChunkdata_and_analytics||[]).push([[8867],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>w});var o=a(7294);function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,o,s=function(e,t){if(null==e)return{};var a,o,s={},n=Object.keys(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)a=n[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var i=o.createContext({}),d=function(e){var t=o.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},c=function(e){var t=d(e.components);return o.createElement(i.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var a=e.components,s=e.mdxType,n=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=d(a),h=s,w=u["".concat(i,".").concat(h)]||u[h]||p[h]||n;return a?o.createElement(w,r(r({ref:t},c),{},{components:a})):o.createElement(w,r({ref:t},c))}));function w(e,t){var a=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var n=a.length,r=new Array(n);r[0]=h;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[u]="string"==typeof e?e:s,r[1]=l;for(var d=2;d<n;d++)r[d]=a[d];return o.createElement.apply(null,r)}return o.createElement.apply(null,a)}h.displayName="MDXCreateElement"},6253:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>u,frontMatter:()=>n,metadata:()=>l,toc:()=>d});var o=a(7462),s=(a(7294),a(3905));const n={sidebar_position:1,title:"6.6 | Dataflows",slug:"/6.6",tags:["Dataflows","Power Query","Power BI Online Service"]},r="6.6 | Dataflows",l={unversionedId:"book/chapter6/06-06-dataflows",id:"book/chapter6/06-06-dataflows",title:"6.6 | Dataflows",description:"6.6.1 | Overview",source:"@site/docs/01-book/01-chapter6/06-06-dataflows.md",sourceDirName:"01-book/01-chapter6",slug:"/6.6",permalink:"/6.6",draft:!1,tags:[{label:"Dataflows",permalink:"/tags/dataflows"},{label:"Power Query",permalink:"/tags/power-query"},{label:"Power BI Online Service",permalink:"/tags/power-bi-online-service"}],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"6.6 | Dataflows",slug:"/6.6",tags:["Dataflows","Power Query","Power BI Online Service"]},sidebar:"tutorialSidebar",previous:{title:"6.5 | Data security - How access permissions are implemented",permalink:"/6.5"},next:{title:"6.7 | Composite models",permalink:"/6.7"}},i={},d=[{value:"6.6.1 | Overview",id:"661--overview",level:2},{value:"6.6.2 | Use-cases for dataflows",id:"662--use-cases-for-dataflows",level:2},{value:"6.6.3 | How to create, save and run a dataflow",id:"663--how-to-create-save-and-run-a-dataflow",level:2},{value:"1. Navigate to a workspace in the Power BI Online Service and create a new dataflow",id:"1-navigate-to-a-workspace-in-the-power-bi-online-service-and-create-a-new-dataflow",level:4},{value:"2. Select <em>Add new tables</em>",id:"2-select-add-new-tables",level:4},{value:"3. Upload the Excel file with the sales demo data",id:"3-upload-the-excel-file-with-the-sales-demo-data",level:4},{value:"4. Confirm to connect to data source",id:"4-confirm-to-connect-to-data-source",level:4},{value:"5. Select the tables to be used in the Dataflow",id:"5-select-the-tables-to-be-used-in-the-dataflow",level:4},{value:"6. Use Power Query to prepare the data and model result data tables",id:"6-use-power-query-to-prepare-the-data-and-model-result-data-tables",level:4},{value:"7. Make use of Power Query features only available in Dataflows",id:"7-make-use-of-power-query-features-only-available-in-dataflows",level:4},{value:"8. Save the Dataflow",id:"8-save-the-dataflow",level:4},{value:"9. Run the Dataflow to load data to tables",id:"9-run-the-dataflow-to-load-data-to-tables",level:4},{value:"6.6.4 | Limitations",id:"664--limitations",level:2}],c={toc:d};function u(e){let{components:t,...n}=e;return(0,s.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"66--dataflows"},"6.6 | Dataflows"),(0,s.kt)("h2",{id:"661--overview"},"6.6.1 | Overview"),(0,s.kt)("p",null,"One of the most important and valuable components of the Power BI Online Service are dataflows. Essentially, with a dataflow we can use ",(0,s.kt)("strong",{parentName:"p"},"Power Query directly within the browser")," and connect with one or many data sources and prepare and load the data into the desired output tables. With that, a dataflow stores one or many data tables in the Online Service, ready to be used by subsequent applications which in most cases will be one or many Power BI datasets."),(0,s.kt)("p",null,"A dataflow can be ",(0,s.kt)("strong",{parentName:"p"},"scheduled")," to automatically run at certain times and refresh the output tables accordingly."),(0,s.kt)("p",null,"As mentioned, the output tables of a dataflow can be accessed by Power BI datasets. Furthermore, a dataflow can also access another dataflow, which gives us the possibility to chain several flows if required in more complex setups."),(0,s.kt)("p",null,"Dataflows can be organized in the same workspace as the respective datasets. Alternatively, they can be separated from the datasets into individual workspaces. The illustration below shows different ways of using dataflows:"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Dataflows",src:a(6935).Z,width:"1317",height:"885"})),(0,s.kt)("div",{align:"center"},(0,s.kt)("font",{size:"3"},"Dataflows (right-click and open in new tab for large version)")),(0,s.kt)("br",null),(0,s.kt)("p",null,"In general, Dataflows are highly useful tools to ",(0,s.kt)("strong",{parentName:"p"},"scale Power BI")," within an organization. Because it gives us the possibility to prepare and enable re-usage of important data tables for many Datasets (or business teams)."),(0,s.kt)("h2",{id:"662--use-cases-for-dataflows"},"6.6.2 | Use-cases for dataflows"),(0,s.kt)("p",null,"The most important use-cases for dataflows are the following:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Staging of data tables:")," When a data source is slow with responding to queries, it can make sense to use dataflows as an intermediate data storage (i.e. called staging) for large data tables. Typical cases are large transactional tables (e.g. a general ledger from an ERP system). It not only speeds up development work in Power BI Desktop, but also it decreases computational burden on the original data source"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Re-using data tables in multiple Power BI datasets:")," For solutions with multiple datasets, it is often the case that certain data tables are used in several different datasets. Instead of connecting and preparing the same tables in each individual dataset over and over again, it makes sense to centralize these processes in dataflows and then simply connect with the already prepared tables. This more centralized approach also allows for an easier change management"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Sharing of data tables with power users:")," For large scale implementations with multiple data teams, it makes sense to re-use centrally prepared data tables by power users. Data tables can be better standardized this way and chances are higher that analytical results are identical between the teams. Please note, control of who can access a dataflow is only possible via workspace roles as of the time of writing this text (see also limitations below)")),(0,s.kt)("h2",{id:"663--how-to-create-save-and-run-a-dataflow"},"6.6.3 | How to create, save and run a dataflow"),(0,s.kt)("h4",{id:"1-navigate-to-a-workspace-in-the-power-bi-online-service-and-create-a-new-dataflow"},"1. Navigate to a workspace in the Power BI Online Service and create a new dataflow"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Create new Dataflow",src:a(1362).Z,width:"1312",height:"588"})),(0,s.kt)("h4",{id:"2-select-add-new-tables"},"2. Select ",(0,s.kt)("em",{parentName:"h4"},"Add new tables")),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Add new table",src:a(3390).Z,width:"1320",height:"883"})),(0,s.kt)("h4",{id:"3-upload-the-excel-file-with-the-sales-demo-data"},"3. Upload the Excel file with the sales demo data"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Upload Excel file",src:a(5773).Z,width:"1320",height:"880"})),(0,s.kt)("p",null,"Please note, instead of uploading we could also ",(0,s.kt)("strong",{parentName:"p"},"link")," directly to the file if it is saved in OneDrive (or Sharepoint)."),(0,s.kt)("p",null,"Of course we can use here all ",(0,s.kt)("strong",{parentName:"p"},"data connectors")," which are available also in Power BI Desktop. Further, it is also possible to use a Data Gateway here to access on-premise data sources."),(0,s.kt)("h4",{id:"4-confirm-to-connect-to-data-source"},"4. Confirm to connect to data source"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Confirm connection to data source",src:a(6923).Z,width:"1316",height:"878"})),(0,s.kt)("h4",{id:"5-select-the-tables-to-be-used-in-the-dataflow"},"5. Select the tables to be used in the Dataflow"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Select tables",src:a(1449).Z,width:"1316",height:"878"})),(0,s.kt)("h4",{id:"6-use-power-query-to-prepare-the-data-and-model-result-data-tables"},"6. Use Power Query to prepare the data and model result data tables"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Prepare data with Power Query",src:a(1443).Z,width:"1323",height:"882"})),(0,s.kt)("h4",{id:"7-make-use-of-power-query-features-only-available-in-dataflows"},"7. Make use of Power Query features only available in Dataflows"),(0,s.kt)("p",null,"Power Query in Dataflows has some extra features compared to Power Query in Power BI Desktop, most importantly:"),(0,s.kt)("p",null,"There is a ",(0,s.kt)("strong",{parentName:"p"},"diagram view")," that helps you to understand the flow of data visually:"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Diagram view",src:a(7577).Z,width:"1310",height:"874"})),(0,s.kt)("p",null,"Power Query in a Dataflow tells you which transformation steps are sent to and executed by the data source. This mechanism is called ",(0,s.kt)("strong",{parentName:"p"},"Query Folding")," and it usually significantly improves the performance of a Power Query ETL process. Please note, only a few data sources support Query Folding, most noteworthy SQL data sources."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Query Folding",src:a(8058).Z,width:"1294",height:"267"})),(0,s.kt)("h4",{id:"8-save-the-dataflow"},"8. Save the Dataflow"),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Prepare data with Power Query",src:a(3471).Z,width:"1305",height:"697"})),(0,s.kt)("h4",{id:"9-run-the-dataflow-to-load-data-to-tables"},"9. Run the Dataflow to load data to tables"),(0,s.kt)("p",null,"Please note, when creating (or changing) a query in the Power Query editor in a Dataflow and then saving the Dataflow, the affected tables are there but ",(0,s.kt)("strong",{parentName:"p"},"empty")," until a refresh has run and succesfully completed."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"Refresh the Dataflow",src:a(6399).Z,width:"1311",height:"714"})),(0,s.kt)("p",null,"As with Datasets, data refresh and scheduling settings can be accessed via the three dots."),(0,s.kt)("h2",{id:"664--limitations"},"6.6.4 | Limitations"))}u.isMDXComponent=!0},6935:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-143-bcb7d62e830fc408e2e068a40b927a15.png"},1362:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-144-1bee7e0f30c6e7b09b81dd79c93d712f.png"},3390:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-145-db0111163ec0edca5c6a634f5a0da866.png"},5773:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-146-1d87568fc7026d4f3b5c0abcd085b0e3.png"},6923:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-147-5993a232b0bd7461d0105fd04a6a6fb7.png"},1449:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-148-84cf1d1955df7ef4b81d504aef3fac3c.png"},1443:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-149-d9e968564343649fa538c541c7c9247a.png"},3471:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-150-32b23edbf0c9618950d788ca981ba226.png"},6399:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-151-03720e7fed611cef7c8eb5e172204bbf.png"},7577:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-152-72bebfba7963c5dbd7a0d226b510d676.png"},8058:(e,t,a)=>{a.d(t,{Z:()=>o});const o=a.p+"assets/images/img_book_03-153-a958d494540632095dba889bdd136d92.png"}}]);